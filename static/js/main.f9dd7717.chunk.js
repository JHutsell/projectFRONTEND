(window["webpackJsonpspootify-frontend"]=window["webpackJsonpspootify-frontend"]||[]).push([[0],{115:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),c=a.n(l),o=(a(85),a(86),a(6)),s=a(7),i=a(10),u=a(9),h=a(11),m=function(e){var t=e.location,a=e.handleCode;return console.log(t),a(t.search.split("?code=")[1]),null},p=function(){return{"content-type":"application/json",accept:"application/json",Authorization:"Token token="+localStorage.getItem("jwt")}},d={login:"https://spootify.herokuapp.com/api/v1/login",recent_tracks:"https://spootify.herokuapp.com/api/v1/recent",user_playlists:"https://spootify.herokuapp.com/api/v1/userPlaylists",top_artists:"https://spootify.herokuapp.com/api/v1/topArtists",current_song:"https://spootify.herokuapp.com/api/v1/currentSong"},f=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,null,[{key:"getCurrentSong",value:function(){return fetch(d.current_song,{method:"GET",headers:p()}).then((function(e){return e.json()}))}}]),e}(),g=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={clicked:!1},a.handleClick=function(){a.setState({clicked:!a.state.clicked})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){console.log(this.props.song.track.uri.split(":")[2]);var e="https://open.spotify.com/embed/track/".concat(this.props.song.track.uri.split(":")[2]);return r.a.createElement("div",{className:"recentTracks",onClick:this.handleClick},!0===this.state.clicked?r.a.createElement("div",{className:"song-card"},r.a.createElement("h3",null,this.props.song.track.name),r.a.createElement("br",null),r.a.createElement("h4",null,"BY: ",this.props.song.track.artists[0].name),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("img",{src:this.props.song.track.album.images[0].url}),r.a.createElement("br",null),r.a.createElement("iframe",{src:e,width:"300",height:"80",frameborder:"0",allowtransparency:"true",allow:"encrypted-media"})):r.a.createElement("li",null,this.props.song.track.name))}}]),t}(r.a.Component),y=(a(87),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currentSong:{}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.getCurrentSong().then((function(t){e.setState({currentSong:t})}))}},{key:"render",value:function(){var e;if(this.state.currentSong.item){console.log(this.state.currentSong.item);var t="https://open.spotify.com/embed/track/".concat(this.state.currentSong.item.uri.split(":")[2]);e=r.a.createElement("div",null,r.a.createElement("h1",null,this.state.currentSong.item.name),r.a.createElement("h3",null,this.state.currentSong.item.album.artists[0].name),r.a.createElement("img",{src:this.state.currentSong.item.album.images[0].url}),r.a.createElement("iframe",{src:t,width:"300",height:"80",frameborder:"0",allowtransparency:"true",allow:"encrypted-media"}))}else if(localStorage.searchSelection){var a=JSON.parse(localStorage.getItem("searchSelection")),n="https://open.spotify.com/embed/track/".concat(a.uri.split(":")[2]);this.audioEle=new Audio(n),console.log(a),e=r.a.createElement("div",null,r.a.createElement("h1",null,a.name),r.a.createElement("h3",null,"By: ",a.album.artists[0].name),r.a.createElement("img",{src:a.album.images[0].url}),r.a.createElement("br",null),r.a.createElement("iframe",{src:n,width:"300",height:"80",frameborder:"0",allowtransparency:"true",allow:"encrypted-media"}))}else e=r.a.createElement("div",null,r.a.createElement("h2",null,'"PLAY A SONG"'));return e}}]),t}(r.a.Component)),b=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,null,[{key:"getRecentTracks",value:function(){return fetch(d.recent_tracks,{method:"GET",headers:p()}).then((function(e){return e.json()}))}}]),e}(),k=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={recentTracks:[]},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.getRecentTracks().then((function(t){e.setState({recentTracks:t})}))}},{key:"render",value:function(){return console.log(this.state.recentTracks),this.state.recentTracks.map((function(e){return r.a.createElement(g,{song:e})}))}}]),t}(r.a.Component),E=a(127),S=a(125),v=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,null,[{key:"getPlaylists",value:function(){return fetch(d.user_playlists,{method:"GET",headers:p()}).then((function(e){return e.json()}))}}]),e}(),O=a(45),j=a(123),A=a(124),w=a(74),B=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={playlists:[]},a.addSongToPlaylist=function(e,t){fetch("https://spootify.herokuapp.com/api/v1/postSong/".concat(e,"/").concat(t),{method:"POST",headers:p()}).then((function(e){return e.json()}))},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.getPlaylists().then((function(t){e.setState({playlists:t})}))}},{key:"render",value:function(){var e,t=this;return this.props.showModal?(console.log(this.props.searchResults),this.props.searchResults&&(e=this.props.searchResults.map((function(e){var a="https://open.spotify.com/embed/track/".concat(e.uri.split(":")[2]),n=t.state.playlists.map((function(a){return console.log(a),r.a.createElement(O.a.Item,{href:"#/action-1",onSelect:function(){return t.addSongToPlaylist(a.id,e.uri.split(":")[2])}},a.name)}));return r.a.createElement("div",{onClick:localStorage.setItem("searchSelection",JSON.stringify(e))},r.a.createElement("p",null,e.name),r.a.createElement("p",null,"By: ",e.artists[0].name),r.a.createElement("iframe",{src:a,width:"300",height:"80",frameborder:"0",allowtransparency:"true",allow:"encrypted-media"}),r.a.createElement(j.a,{id:"dropdown-basic-button",variant:"info",title:"Add to a Playlist"},n))}))),r.a.createElement(A.a.Dialog,{style:{width:"70rem",height:"700px",overflow:"scroll",background:"black"}},r.a.createElement(A.a.Header,{closeButton:!0,onClick:this.props.onClose,style:{background:"rgb(90, 196, 96)"}},r.a.createElement(A.a.Title,null,"Search Results")),r.a.createElement(A.a.Body,{style:{width:"35rem",height:"500px",overflow:"scroll",background:"gray"}},e),r.a.createElement(A.a.Footer,{style:{background:"rgb(90, 196, 96)"}},r.a.createElement(w.a,{onClick:this.props.onClose,variant:"success"},"Close")))):null}}]),t}(r.a.Component),C=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={searchTerm:"",showModal:!1},a.handleHomeButton=function(){a.props.history.push("/home")},a.handleProfileClick=function(){a.props.history.push("/profile")},a.handlePlaylistClick=function(){a.props.history.push("/playlists")},a.handleRecentTracksClick=function(){a.props.history.push("/recentTracks")},a.handleTopArtistsClick=function(){a.props.history.push("/topArtists")},a.handleLogout=function(){localStorage.clear(),a.props.history.push("/login")},a.toggleModal=function(){a.setState({showModal:!a.state.showModal})},a.handleCloseModal=function(){a.setState({showModal:!1})},a.handleSearchInput=function(e){a.setState({searchTerm:e.target.value})},a.handleSearchSubmit=function(e){e.preventDefault(),console.log("search"),a.setState({showModal:!0}),""!==a.state.searchTerm&&a.props.handleSearchSong(a.state.searchTerm)},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"navbar-container"},r.a.createElement(E.a,{bg:"success",variant:"dark",expand:"lg"},r.a.createElement(S.a.Link,{onClick:this.handleHomeButton},"SPOOTIFY"),r.a.createElement(E.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(E.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(S.a,{className:"mr-auto"},r.a.createElement(S.a.Link,{onClick:this.handleProfileClick,href:"#home"},"My Profile"),r.a.createElement(S.a.Link,{onClick:this.handlePlaylistClick,href:"#home"},"My Playlists"),r.a.createElement(S.a.Link,{onClick:this.handleRecentTracksClick,href:"#home"},"My Recent Tracks"),r.a.createElement(S.a.Link,{onClick:this.handleTopArtistsClick,href:"#home"},"My Top Artists"),r.a.createElement(B,{searchResults:this.props.searchResults,showModal:this.state.showModal,onClose:this.handleCloseModal}),r.a.createElement("button",{onClick:this.handleLogout,style:{"margin-left":"780px"}},"Logout")))))}}]),t}(r.a.Component),T=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currentSong:{}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.getCurrentSong().then((function(t){e.setState({currentSong:t})}))}},{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("currentUser")),t=e.profile_img_url,a=e.display_name,n=e.spotify_url,l=e.email;return console.log(this.state),r.a.createElement("div",null,r.a.createElement("h1",null,a),r.a.createElement("h1",null,l),r.a.createElement("a",{href:n}),r.a.createElement("img",{className:"profile-img",src:""!==t?t:".../public/spootify-alt-avatar",alt:"spotifyImg"}))}}]),t}(r.a.Component),U=function(e){return e.currentUser.id?null:r.a.createElement("div",{style:{height:"800px",background:"black"},className:"login-page"},r.a.createElement("p",null,"Spootify is an audio streaming application designed to make your browsing and saving of Spotify tracks much easier. With built in search, playlist, and recommendations functionality, it's never been easier to browse Spotify."),r.a.createElement("a",{className:"login-a",href:"https://spootify.herokuapp.com/api/v1/auth"},r.a.createElement("p",null,"Login to your Spotify Account to get Started"),r.a.createElement("img",{src:"data:image/png;base64,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"})))},N=a(76),I=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={clicked:!1},a.handleClick=function(){a.setState({clicked:!a.state.clicked})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){console.log(this.props.playlist);var e="https://open.spotify.com/embed/playlist/".concat(this.props.playlist.uri.split(":")[2]);return r.a.createElement("div",{onClick:this.handleClick,className:"playlist-detail"},!0===this.state.clicked?r.a.createElement("div",null,r.a.createElement("h3",null,this.props.playlist.name),r.a.createElement("br",null),this.props.playlist.images.length>0?r.a.createElement("img",{src:this.props.playlist.images[0].url}):null,r.a.createElement("br",null),r.a.createElement("iframe",{src:e,width:"300",height:"380",frameborder:"0",allowtransparency:"true",allow:"encrypted-media"})):r.a.createElement("li",null,this.props.playlist.name))}}]),t}(r.a.Component),Q=a(14),F=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={playlists:[],name:""},a.handleInputChange=function(e){a.setState(Object(N.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),fetch("https://spootify.herokuapp.com/api/v1/createNewPlaylist/".concat(a.state.name),{method:"POST",headers:p()}).then((function(e){return e.json()})),window.location.reload(!1)},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;v.getPlaylists().then((function(t){console.log(t),e.setState({playlists:t})}))}},{key:"render",value:function(){var e;return console.log(this.state),e=this.state.playlists.map((function(e){return r.a.createElement(I,{playlist:e})})),r.a.createElement("div",null,0!==!e.length?r.a.createElement("div",null,e,r.a.createElement("form",{onSubmit:this.handleSubmit,style:{"padding-left":"25%"},className:"new-playlist-form"},r.a.createElement(Q.h,{onChange:this.handleInputChange,value:this.state.name,style:{width:"700px"},name:"name",label:"New Playlist",background:!0,size:"lg"}),r.a.createElement(Q.a,{gradient:"blue",type:"submit",style:{"margin-right":"390px"}},"Submit   \ud83c\udfb6"))):null)}}]),t}(r.a.Component),P=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,null,[{key:"getTopArtists",value:function(){return fetch(d.top_artists,{headers:p()}).then((function(e){return e.json()}))}}]),e}(),R=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={clicked:!1},a.handleClick=function(){a.setState({clicked:!a.state.clicked})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"recentTracks",onClick:this.handleClick},!0===this.state.clicked?r.a.createElement("div",{className:"artist-details"},r.a.createElement(Q.g,{style:{"margin-left":"390px"}},r.a.createElement(Q.b,{style:{width:"22rem",background:"black"}},r.a.createElement(Q.d,{className:"img-fluid",src:this.props.artist.images[0].url,style:{width:"22rem"},waves:!0}),r.a.createElement(Q.c,null,r.a.createElement(Q.f,null,this.props.artist.name),r.a.createElement(Q.e,null,r.a.createElement("h4",null,"Artist's popularity on Spotify:"),r.a.createElement(Q.i,{material:!0,value:this.props.artist.popularity,className:"my-s"})))))):r.a.createElement("li",null,this.props.artist.name))}}]),t}(r.a.Component),M=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={topArtists:[]},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;P.getTopArtists().then((function(t){e.setState({topArtists:t})}))}},{key:"render",value:function(){var e=this.state.topArtists.map((function(e){return r.a.createElement(R,{artist:e})}));return console.log(this.state),e}}]),t}(r.a.Component),x=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={reccoTracks:[],login:!1,playlists:[]},a.addSongToPlaylist=function(e,t){fetch("https://spootify.herokuapp.com/api/v1/postSong/".concat(e,"/").concat(t),{method:"POST",headers:p()}).then((function(e){return e.json()}))},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.getRecentTracks().then((function(t){if(t.length>0)return fetch("https://spootify.herokuapp.com/api/v1/getReccos/".concat(t[0].track.id,"/").concat(t[1].track.id,"/").concat(t[2].track.id,"/").concat(t[3].track.id,"/").concat(t[4].track.id),{method:"POST",headers:p()}).then((function(e){return e.json()})).then((function(t){e.setState({reccoTracks:t,login:!0})}))})),v.getPlaylists().then((function(t){e.setState({playlists:t})}))}},{key:"render",value:function(){var e,t,a=this;return console.log(this.state.reccoTracks),"true"===localStorage.getItem("loggedIn")&&(e=this.state.reccoTracks.map((function(e){t=a.state.playlists.map((function(t){return r.a.createElement(O.a.Item,{href:"#/action-1",onSelect:function(){return a.addSongToPlaylist(t.id,e.uri.split(":")[2])}},t.name)}));var n="https://open.spotify.com/embed/track/".concat(e.uri.split(":")[2]);if(e.album.images[0])return r.a.createElement("div",{className:"recco-image"},r.a.createElement(Q.g,null,r.a.createElement(Q.b,{style:{width:"22rem",background:"black"}},r.a.createElement(Q.d,{className:"img-fluid",src:e.album.images[1].url,style:{width:"22rem"},waves:!0}),r.a.createElement(Q.c,null,r.a.createElement(Q.f,null,e.name),r.a.createElement(Q.e,null,r.a.createElement("iframe",{src:n,width:"300",height:"80",frameborder:"0",allowtransparency:"true",allow:"encrypted-media"})),r.a.createElement(j.a,{id:"dropdown-basic-button",variant:"info",title:"Add to a Playlist"},t)))))}))),r.a.createElement("div",null,e?r.a.createElement("h3",null,"Recommended Tracks based on Recent Song History"):null,r.a.createElement("div",{className:"recco-images"},e))}}]),t}(r.a.Component),D=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,null,[{key:"login",value:function(e){return console.log(e),fetch(d.login,{method:"POST",headers:p(),body:JSON.stringify({code:e})}).then((function(e){return e.json()}))}}]),e}(),W=a(129),z=a(130),Y=a(126),H=a(79),L=(a(115),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={currentUser:{},loggedIn:!1,searchResults:[],searchTerm:"",showModal:!1},a.handleCode=function(e){D.login(e).then((function(e){console.log(e),localStorage.setItem("jwt",e.auth_response_json.jwt),localStorage.setItem("currentUser",JSON.stringify(e.auth_response_json)),localStorage.setItem("loggedIn",!0),a.setState({currentUser:e.auth_response_json,loggedIn:"true"},a.props.history.push("/home")),window.location.reload(!1)}))},a.handleCallback=function(e){var t=e.location;return r.a.createElement(m,{location:t,handleCode:a.handleCode})},a.getSongsFromSpotify=function(e){fetch("https://spootify.herokuapp.com/api/v1/getSong/".concat(e),{method:"POST",headers:p()}).then((function(e){return e.json()})).then((function(e){a.setState({searchResults:e.tracks.items})}))},a.handleSearchSong=function(e){a.getSongsFromSpotify(e)},a.handleSearchInput=function(e){a.setState({searchTerm:e.target.value})},a.handleSearchSubmit=function(e){e.preventDefault(),console.log("search"),a.setState({showModal:!0}),""!==a.state.searchTerm&&a.handleSearchSong(a.state.searchTerm)},a.toggleModal=function(){a.setState({showModal:!a.state.showModal})},a.handleCloseModal=function(){a.setState({showModal:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},localStorage.loggedIn?r.a.createElement("div",null,r.a.createElement("div",{className:"boots-and-pants"},r.a.createElement("h1",null,r.a.createElement("marquee",null,"BOOTS_AND_PANTS_AND_BOOTS_AND_PANTS"))),r.a.createElement(C,{handleSearchSong:this.handleSearchSong,searchResults:this.state.searchResults,history:this.props.history}),r.a.createElement(Y.a,{onSubmit:this.handleSearchSubmit,className:"search-bar",inline:!0},r.a.createElement("h4",{style:{"padding-right":"7px"}},"Search for a song:   "),r.a.createElement("br",null),r.a.createElement(H.a,{type:"text",onChange:this.handleSearchInput,value:this.state.searchTerm,placeholder:"Search",className:"mr-sm-2"}),r.a.createElement("button",null,"Search"))):null,r.a.createElement("br",null),0===localStorage.length?r.a.createElement(U,{currentUser:this.state.currentUser}):null,r.a.createElement(B,{searchResults:this.state.searchResults,showModal:this.state.showModal,onClose:this.handleCloseModal}),r.a.createElement(W.a,null,r.a.createElement(z.a,{path:"/:access_token(access_token=.*)",component:m}),r.a.createElement(z.a,{path:"/callback",component:this.handleCallback}),r.a.createElement(z.a,{exact:!0,path:"/home",render:function(t){return r.a.createElement(y,Object.assign({currentUser:e.state.currentUser},t))}}),r.a.createElement(z.a,{exact:!0,path:"/profile",render:function(t){return r.a.createElement(T,Object.assign({currentUser:e.state.currentUser},t))}}),r.a.createElement(z.a,{path:"/recentTracks",render:function(t){return r.a.createElement(k,Object.assign({recentTracks:e.state.recentTracks},t))}}),r.a.createElement(z.a,{path:"/playlists",render:function(t){return r.a.createElement(F,Object.assign({playlists:e.state.playlists},t))}}),r.a.createElement(z.a,{path:"/topArtists",render:function(t){return r.a.createElement(M,Object.assign({topArtists:e.state.topArtists},t))}})),r.a.createElement(x,{loggedIn:this.state.loggedIn,reccoTracks:this.state.reccoTracks}))}}]),t}(n.Component)),V=a(128);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(116),a(117),a(118);c.a.render(r.a.createElement(V.a,null,r.a.createElement(L,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},80:function(e,t,a){e.exports=a(119)},85:function(e,t,a){}},[[80,1,2]]]);
//# sourceMappingURL=main.f9dd7717.chunk.js.map